{"version":3,"file":"main.min.js","sources":["cart/cart.fulfilment.js","cart/cartDirectives.js","checkout/checkoutDirectives.js","category/categoryDirectives.js","productDetails/productDetailDirectives.js","productList/productDirectives.js","topbar/topbarDirectives.js","app.js","services.js"],"names":["angular","module","service","$injector","this","_obj","undefined","settings","setService","setSettings","checkout","provider","get","$q","$log","ngCart","deferred","defer","info","toObject","resolve","cart","promise","$http","post","url","data","options","cartDirectives","controller","$scope","directive","restrict","scope","id","name","quantity","quantityMax","price","transclude","templateUrl","element","attrs","link","inCart","getItemById","q","getQuantity","parseInt","qtyOpt","i","push","$rootScope","fulfilmentProvider","success","status","headers","config","$broadcast","error","statusCode","checkoutDirective","ProductService","require","categoryDirective","CategoryService","$mdSidenav","buildDelayedToggler","navID","toggle","categories","query","toggleLeft","productDetailsDirective","$stateParams","filterFilter","products","console","log","productKeyValue","productDirective","setTaxRate","setShipping","category","categoryKeyValue","setImage","imageUrl","mainImageUrl","topbarDirective","OnlineStoreApp","$stateProvider","$urlRouterProvider","$mdThemingProvider","otherwise","state","template","theme","primaryPalette","run","ngCartItem","store","$on","$save","isObject","$restore","init","OnlineStoreServices","factory","$resource","method","params","isArray","$cart","shipping","taxRate","tax","items","addItem","setQuantity","newItem","itemId","getCart","build","forEach","item","getId","getShipping","length","parseFloat","toFixed","getTaxRate","getTax","getSubTotal","setCart","getItems","getTotalItems","count","getTotalUniqueItems","total","getTotal","totalCost","removeItem","index","splice","removeItemById","empty","localStorage","isEmpty","subTotal","storedCart","_self","_id","_name","_price","_quantity","_data","set","JSON","stringify","setId","setName","setPrice","setData","prototype","getName","priceFloat","getPrice","relative","quantityInt","getData","$window","key","fromJson","parse","val","toJson"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nangular.module('ngCart.fulfilment', [])\n    .service('fulfilmentProvider', ['$injector', function($injector){\n\n        this._obj = {\n            service : undefined,\n            settings : undefined\n        };\n\n        this.setService = function(service){\n            this._obj.service = service;\n        };\n\n        this.setSettings = function(settings){\n            this._obj.settings = settings;\n        };\n\n        this.checkout = function(){\n            var provider = $injector.get('ngCart.fulfilment.' + this._obj.service);\n              return provider.checkout(this._obj.settings);\n\n        }\n\n    }])\n\n\n.service('ngCart.fulfilment.log', ['$q', '$log', 'ngCart', function($q, $log, ngCart){\n\n        this.checkout = function(){\n\n            var deferred = $q.defer();\n\n            $log.info(ngCart.toObject());\n            deferred.resolve({\n                cart:ngCart.toObject()\n            });\n\n            return deferred.promise;\n\n        }\n\n }])\n\n.service('ngCart.fulfilment.http', ['$http', 'ngCart', function($http, ngCart){\n\n        this.checkout = function(settings){\n            return $http.post(settings.url,\n                { data: ngCart.toObject(), options: settings.options});\n        }\n }])\n\n\n.service('ngCart.fulfilment.paypal', ['$http', 'ngCart', function($http, ngCart){\n\n\n}]);\n","/* Directives */\n'use strict';\n\n\nvar cartDirectives=angular.module('cartDirectives', ['ngCart.fulfilment'])\n\n    .controller('CartController',['$scope', 'ngCart', function($scope, ngCart) {\n        $scope.ngCart = ngCart;\n    }])\n\n    .directive('ngcartAddtocart', ['ngCart', function(ngCart){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {\n                id:'@',\n                name:'@',\n                quantity:'@',\n                quantityMax:'@',\n                price:'@',\n                data:'='\n            },\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'Components/cart/addtocart.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            },\n            link:function(scope, element, attrs){\n                scope.attrs = attrs;\n                scope.inCart = function(){\n                    return  ngCart.getItemById(attrs.id);\n                };\n\n                if (scope.inCart()){\n                    scope.q = ngCart.getItemById(attrs.id).getQuantity();\n                } else {\n                    scope.q = parseInt(scope.quantity);\n                }\n\n                scope.qtyOpt =  [];\n                for (var i = 1; i <= scope.quantityMax; i++) {\n                    scope.qtyOpt.push(i);\n                }\n\n            }\n\n        };\n    }])\n\n    .directive('ngcartCart', [function(){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {},\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'Components/checkout/cart.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            },\n            link:function(scope, element, attrs){\n\n            }\n        };\n    }])\n\n    .directive('ngcartSummary', [function(){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {},\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'Components/cart/summary.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            }\n        };\n    }])\n\n    .directive('ngcartCheckout', [function(){\n        return {\n            restrict : 'E',\n            controller : ('CartController', ['$rootScope', '$scope', 'ngCart', 'fulfilmentProvider', function($rootScope, $scope, ngCart, fulfilmentProvider) {\n                $scope.ngCart = ngCart;\n\n                $scope.checkout = function () {\n                    fulfilmentProvider.setService($scope.service);\n                    fulfilmentProvider.setSettings($scope.settings);\n                    fulfilmentProvider.checkout()\n                        .success(function (data, status, headers, config) {\n                            $rootScope.$broadcast('ngCart:checkout_succeeded', data);\n                        })\n                        .error(function (data, status, headers, config) {\n                            $rootScope.$broadcast('ngCart:checkout_failed', {\n                                statusCode: status,\n                                error: data\n                            });\n                        });\n                }\n            }]),\n            scope: {\n                service:'@',\n                settings:'='\n            },\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'Components/cart/checkout.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            }\n        };\n    }]);\n","var checkoutDirective=angular.module('checkoutDirective',[]);\n\ncheckoutDirective.directive('ngCheckout', ['ProductService',\n  function(ProductService){\n    return {\n        restrict : 'E',\n        require:'^ngProduct',\n        controller : 'productController',\n        scope: {\n\n        },\n        transclude: true,\n        templateUrl: 'Components/checkout/checkout.html',\n    };\n}]);\n","var categoryDirective=angular.module('categoryDirective',[]);\ncategoryDirective.controller('categoryController',['$scope','CategoryService','$mdSidenav',\n function($scope,CategoryService, $mdSidenav){\n   $scope.categories=CategoryService.query();\n   $scope.toggleLeft = buildDelayedToggler('left');\n   function buildDelayedToggler(navID) {\n       $mdSidenav(navID).toggle();\n   }\n }\n\n]);\ncategoryDirective.directive('ngCategory', [\n  function(){\n    return {\n        restrict : 'E',\n        controller : 'categoryController',\n        scope: {\n        },\n        transclude: true,\n        templateUrl: 'Components/category/category.html',\n\n    };\n}]);\n","var productDetailsDirective=angular.module('productDetailsDirective',[]);\nproductDetailsDirective.controller('productDetailsController',['$scope','$stateParams', 'ProductService','filterFilter',\n function($scope,$stateParams, ProductService,filterFilter){\n   $scope.products= ProductService.query();\n   $scope.id=$stateParams.id;\n   console.log($scope.id);\n   $scope.productKeyValue={id: $stateParams.id};\n   console.log($scope.productKeyValue);\n }\n]);\n\nproductDetailsDirective.directive('ngproductDetails', ['ProductService',\n  function(ProductService){\n    return {\n        restrict : 'E',\n        controller : 'productDetailsController',\n        scope: {\n\n        },\n        transclude: true,\n        templateUrl: 'Components/productDetails/product-details.html',\n    };\n}]);\n","var productDirective=angular.module('productDirective',[]);\nproductDirective.controller('productController',['$scope','ngCart','$stateParams', 'ProductService', \n function($scope,ngCart,$stateParams, ProductService){\n   ngCart.setTaxRate(7.5);\n   ngCart.setShipping(2.99);\n   $scope.products= ProductService.query();\n   console.log($scope.products);\n   $scope.category=$stateParams.id;\n   $scope.categoryKeyValue={category: $stateParams.id};\n   console.log($scope.categoryKeyValue);\n   $scope.setImage = function(imageUrl) {\n      $scope.mainImageUrl = imageUrl;\n      console.log($scope.mainImageUrl);\n    };\n }\n]);\n\nproductDirective.directive('ngProduct', ['ProductService',\n  function(ProductService){\n    return {\n        restrict : 'E',\n        controller : 'productController',\n        scope: {\n\n        },\n        transclude: true,\n        templateUrl: 'Components/productList/product-list.html',\n    };\n}]);\n","var topbarDirective=angular.module('topbarDirective',[]);\ntopbarDirective.controller('topbarController',['$scope','CategoryService','$mdSidenav',\n function($scope,CategoryService, $mdSidenav){\n   $scope.categories=CategoryService.query();\n   $scope.toggleLeft = buildDelayedToggler('left');\n   function buildDelayedToggler(navID) {\n       $mdSidenav(navID).toggle();\n   }\n }\n\n]);\ntopbarDirective.directive('topbar', [\n  function(){\n    return {\n        restrict : 'E',\n        controller : 'topbarController',\n        scope: {\n        },\n        transclude: true,\n        templateUrl: 'Components/topbar/topbar.html',\n\n    };\n}]);\n","var OnlineStoreApp=angular.module('OnlineStoreApp', [\n  'ui.router',\n  'ngMaterial',\n  'OnlineStoreServices',\n  'cartDirectives',\n  'topbarDirective',\n  'categoryDirective',\n  'productDirective',\n  'productDetailsDirective',\n  'checkoutDirective'\n]);\nOnlineStoreApp.config (['$stateProvider', '$urlRouterProvider', '$mdThemingProvider',\n  function($stateProvider, $urlRouterProvider, $mdThemingProvider) {\n    $urlRouterProvider.otherwise('/categories');\n    $stateProvider\n        // HOME STATES AND NESTED VIEWS ========================================\n        .state('home', {\n            url: '/categories',\n            template: '<ng-category>'\n        })\n\n        // Product list view filtered by category =================================\n        .state('productList', {\n          url: '/categories/:id',\n          template: '<ng-product>'\n        })\n          // Product details view =================================\n        .state('productDetails', {\n          url: '/categories/products/:id',\n          template: '<ngproduct-details>'\n        })\n        .state('checkout', {\n          url: '/categories/checkout/',\n          controller:\"productController\",\n          template: '<ng-checkout>'\n        });\n\n    $mdThemingProvider.theme('default')\n          .primaryPalette('grey');\n}])\n.run(['$rootScope', 'ngCart','ngCartItem', 'store', function ($rootScope, ngCart, ngCartItem, store) {\n\n    $rootScope.$on('ngCart:change', function(){\n        ngCart.$save();\n    });\n\n    if (angular.isObject(store.get('cart'))) {\n        ngCart.$restore(store.get('cart'));\n\n    } else {\n        ngCart.init();\n    }\n\n}]);\n","/* Services */\n\nvar OnlineStoreServices = angular.module('OnlineStoreServices', ['ngResource']);\nOnlineStoreServices.factory('CategoryService', ['$resource',\n  function($resource){\n    return $resource('Data/:id.json', {}, {\n      query: {method:'GET', params:{id:'categories'}, isArray:true}\n\n    });\n  }\n]);\nOnlineStoreServices.factory('ProductService', ['$resource',\n  function($resource){\n    return $resource('Data/:id.json', {}, {\n      query: {method:'GET', params:{id:'products'}, isArray:true}\n    });\n  }]);\n  OnlineStoreServices.service('ngCart', ['$rootScope', 'ngCartItem', 'store', function ($rootScope, ngCartItem, store) {\n\n          this.init = function(){\n              this.$cart = {\n                  shipping : null,\n                  taxRate : null,\n                  tax : null,\n                  items : []\n              };\n          };\n\n          this.addItem = function (id, name, price, quantity, data) {\n\n              var inCart = this.getItemById(id);\n\n              if (typeof inCart === 'object'){\n                  //Update quantity of an item if it's already in the cart\n                  inCart.setQuantity(quantity, false);\n                  $rootScope.$broadcast('ngCart:itemUpdated', inCart);\n              } else {\n                  var newItem = new ngCartItem(id, name, price, quantity, data);\n                  this.$cart.items.push(newItem);\n                  $rootScope.$broadcast('ngCart:itemAdded', newItem);\n              }\n\n              $rootScope.$broadcast('ngCart:change', {});\n          };\n\n          this.getItemById = function (itemId) {\n              var items = this.getCart().items;\n              var build = false;\n\n              angular.forEach(items, function (item) {\n                  if  (item.getId() === itemId) {\n                      build = item;\n                  }\n              });\n              return build;\n          };\n\n          this.setShipping = function(shipping){\n              this.$cart.shipping = shipping;\n              return this.getShipping();\n          };\n\n          this.getShipping = function(){\n              if (this.getCart().items.length === 0) return 0;\n              return  this.getCart().shipping;\n          };\n\n          this.setTaxRate = function(taxRate){\n              this.$cart.taxRate = +parseFloat(taxRate).toFixed(2);\n              return this.getTaxRate();\n          };\n\n          this.getTaxRate = function(){\n              return this.$cart.taxRate;\n          };\n\n          this.getTax = function(){\n              return +parseFloat(((this.getSubTotal()/100) * this.getCart().taxRate )).toFixed(2);\n          };\n\n          this.setCart = function (cart) {\n              this.$cart = cart;\n              return this.getCart();\n          };\n\n          this.getCart = function(){\n              return this.$cart;\n          };\n\n          this.getItems = function(){\n              return this.getCart().items;\n          };\n\n          this.getTotalItems = function () {\n              var count = 0;\n              var items = this.getItems();\n              angular.forEach(items, function (item) {\n                  count += item.getQuantity();\n              });\n              return count;\n          };\n\n          this.getTotalUniqueItems = function () {\n              return this.getCart().items.length;\n          };\n\n          this.getSubTotal = function(){\n              var total = 0;\n              angular.forEach(this.getCart().items, function (item) {\n                  total += item.getTotal();\n              });\n              return +parseFloat(total).toFixed(2);\n          };\n\n          this.totalCost = function () {\n              return +parseFloat(this.getSubTotal() + this.getShipping() + this.getTax()).toFixed(2);\n          };\n\n          this.removeItem = function (index) {\n              var item = this.$cart.items.splice(index, 1)[0] || {};\n              $rootScope.$broadcast('ngCart:itemRemoved', item);\n              $rootScope.$broadcast('ngCart:change', {});\n\n          };\n\n          this.removeItemById = function (id) {\n              var item;\n              var cart = this.getCart();\n              angular.forEach(cart.items, function (item, index) {\n                  if(item.getId() === id) {\n                      item = cart.items.splice(index, 1)[0] || {};\n                  }\n              });\n              this.setCart(cart);\n              $rootScope.$broadcast('ngCart:itemRemoved', item);\n              $rootScope.$broadcast('ngCart:change', {});\n          };\n\n          this.empty = function () {\n\n              $rootScope.$broadcast('ngCart:change', {});\n              this.$cart.items = [];\n              localStorage.removeItem('cart');\n          };\n\n          this.isEmpty = function () {\n\n              return (this.$cart.items.length > 0 ? false : true);\n\n          };\n\n          this.toObject = function() {\n\n              if (this.getItems().length === 0) return false;\n\n              var items = [];\n              angular.forEach(this.getItems(), function(item){\n                  items.push (item.toObject());\n              });\n\n              return {\n                  shipping: this.getShipping(),\n                  tax: this.getTax(),\n                  taxRate: this.getTaxRate(),\n                  subTotal: this.getSubTotal(),\n                  totalCost: this.totalCost(),\n                  items:items\n              };\n          };\n\n\n          this.$restore = function(storedCart){\n              var _self = this;\n              _self.init();\n              _self.$cart.shipping = storedCart.shipping;\n              _self.$cart.tax = storedCart.tax;\n\n              angular.forEach(storedCart.items, function (item) {\n                  _self.$cart.items.push(new ngCartItem(item._id,  item._name, item._price, item._quantity, item._data));\n              });\n              this.$save();\n          };\n\n          this.$save = function () {\n              return store.set('cart', JSON.stringify(this.getCart()));\n          };\n\n      }]);\n\n      OnlineStoreServices.factory('ngCartItem', ['$rootScope', '$log', function ($rootScope, $log) {\n\n          var item = function (id, name, price, quantity, data) {\n              this.setId(id);\n              this.setName(name);\n              this.setPrice(price);\n              this.setQuantity(quantity);\n              this.setData(data);\n          };\n\n\n          item.prototype.setId = function(id){\n              if (id)  this._id = id;\n              else {\n                  $log.error('An ID must be provided');\n              }\n          };\n\n          item.prototype.getId = function(){\n              return this._id;\n          };\n\n\n          item.prototype.setName = function(name){\n              if (name)  this._name = name;\n              else {\n                  $log.error('A name must be provided');\n              }\n          };\n          item.prototype.getName = function(){\n              return this._name;\n          };\n\n          item.prototype.setPrice = function(price){\n              var priceFloat = parseFloat(price);\n              if (priceFloat) {\n                  if (priceFloat <= 0) {\n                      $log.error('A price must be over 0');\n                  } else {\n                      this._price = (priceFloat);\n                  }\n              } else {\n                  $log.error('A price must be provided');\n              }\n          };\n          item.prototype.getPrice = function(){\n              return this._price;\n          };\n\n\n          item.prototype.setQuantity = function(quantity, relative){\n\n\n              var quantityInt = parseInt(quantity);\n              if (quantityInt % 1 === 0){\n                  if (relative === true){\n                      this._quantity  += quantityInt;\n                  } else {\n                      this._quantity = quantityInt;\n                  }\n                  if (this._quantity < 1) this._quantity = 1;\n\n              } else {\n                  this._quantity = 1;\n                  $log.info('Quantity must be an integer and was defaulted to 1');\n              }\n\n\n          };\n\n          item.prototype.getQuantity = function(){\n              return this._quantity;\n          };\n\n          item.prototype.setData = function(data){\n              if (data) this._data = data;\n          };\n\n          item.prototype.getData = function(){\n              if (this._data) return this._data;\n              else $log.info('This item has no data');\n          };\n\n\n          item.prototype.getTotal = function(){\n              return +parseFloat(this.getQuantity() * this.getPrice()).toFixed(2);\n          };\n\n          item.prototype.toObject = function() {\n              return {\n                  id: this.getId(),\n                  name: this.getName(),\n                  price: this.getPrice(),\n                  quantity: this.getQuantity(),\n                  data: this.getData(),\n                  total: this.getTotal()\n              };\n          };\n\n          return item;\n\n      }]);\n\n    OnlineStoreServices.service('store', ['$window', function ($window) {\n\n          return {\n\n              get: function (key) {\n                  if ($window.localStorage [key]) {\n                      var cart = angular.fromJson($window.localStorage [key]);\n                      return JSON.parse(cart);\n                  }\n                  return false;\n\n              },\n\n\n              set: function (key, val) {\n\n                  if (val === undefined) {\n                      $window.localStorage .removeItem(key);\n                  } else {\n                      $window.localStorage [key] = angular.toJson(val);\n                  }\n                  return $window.localStorage [key];\n              }\n          };\n      }]);\n"],"sourceRoot":"/source/"}